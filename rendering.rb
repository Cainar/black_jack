# frozen_string_literal: true

# rubocop:disable Style/Documentation
# rubocop:disable Metrics/MethodLength
module Rendering
  def self.included(receiver)
    receiver.send :include, InstanceMethods
  end

  module InstanceMethods

    def show_message(message = '', method = :puts)
      send(method, message)
    end

    def draw_desk(game, player, dealer, face = true)
      draw_header
      show_message(
        "                   #{dealer.name}: #{dealer.bank}$    \n"\
        "                ----------------               \n"\
        "                  #{face ? dealer.hand.score : '**'}                 \n"\
        "             --                  --            \n"\
        "                  #{dealer.show_cards(face)}                  \n"\
        "            --                    --           \n"\
        "                 bank: #{game.bank}$               \n"\
        "            --                    --           \n"\
        "                  #{player.show_cards}                \n"\
        "             --                  --            \n"\
        "                  #{player.hand.score}               \n"\
        "                ----------------               \n"\
        "                   #{player.name}: #{player.bank}$\n"\
        "\n\n"
      )
    end

    def screen_dealer(dealer)
      system('clear')
      draw_header
      show_message(
        "                           .. .                  \n" \
        "      -+.               .=:**+=-=-               \n" \
        "      -%+.              +=+:+**@#*:              \n" \
        "      *+%:             .+:  ..%@#@+.             \n" \
        "      :%=%.             +%##%####+%.             \n" \
        "      .+##*             -*.++###.=+.             \n" \
        "       .%##.            .+-:+##*-@.              \n" \
        "        +%#=              ++=#@@@=@%+:-..        \n" \
        "        .%##*            .*=..:-@######=@*%:     \n" \
        "         *=#@.          -*@#+@###%@@@%%%%%#%:    \n" \
        "          =@#+        -%::+@###@###%@@#==@#%#-   \n" \
        "          +%##:     -+%@.=.###%###%@@#%=@@@@#@.. \n" \
        "          @###+     +:=*=@@@@#%##%:#@##@######@. \n" \
        "         -#@##*    .=%=*@=####@########=%@####@. \n" \
        "   -*-  .=::*-*-  .=@%%@@##%%#####%###=+=++=@%%. \n" \
        "   .%%%==+:=@@=%%@%+=*#=@=########%=###@.@#=%+=+ \n" \
        "   .@-=**:=#@=@%=#@%##@@########@#####:#%###=#%. \n" \
        "  .==..=.-.%+###@@@@#############%#@#####@#@*+   \n" \
        "  .%+@%:...-=*##@%%#####%%#################%%*   \n" \
        "  .++%...-.-==##:##@######%@@%#@####@+##=@@%%=+* \n" \
        "  .#%:. .--**#@+#=#%##########%%@%=@######+.#%:+ \n" \
        "   :.-==*=%@@@####%##########%#=%=@#####*:+#-.+. \n" \
        "          -+@###%#@##########=%##########- -#.+  \n" \
        "              =@####%+*::*+%###*.           :%.  \n" \
        "                                                 \n" \
        "            #{dealer.name.upcase} WIN              \n"
      )
    end

    def screen_player(player)
      system('clear')
      draw_header
      show_message(
        "                            .............        \n" \
        "                      ...=@%-:*+%%@@@@@@.        \n" \
        "                 ...+@@@@@%%%%.:@@@@@@@@@@.      \n" \
        "              ...*@@@@@@@@@@%%-.--@@@@@@@@:.     \n" \
        "            ...@@@@@@@@@@@@@@@===%%%@@@@@@@.     \n" \
        "            .@@@@@@@@@@@@@@@@.%%@@@@@@@@@@*.     \n" \
        "          ..@@@@@@@@@@@@@@@@.@@@@@@@@@@@@@.      \n" \
        "         .%@@@@@@@@@@@@@@@%..@@@@@@@@@@@#@..     \n" \
        "       ..%##@@@@@@@@@@@@@.***=@@@@@@@@@##@..     \n" \
        "       ..@@###@@@@@@@@@-======@@@@@@@@@@@@..     \n" \
        "       .*=%@@###@@@@+*%%%%%@@@@@@@@@@@@@@#.      \n" \
        "      .-:*+=%@@##*.%@@@@@@@@@@@@@@@@@@@@@%..     \n" \
        "      .+%......---@@@@@@@@@@@@@@@@@@@@@@@:..     \n" \
        "       %%@***+++++@@@@@@@@@@@@@@@@@@@@@@@..      \n" \
        "      .@@@@=====%@@@@@@@@@@@@@#@@@@@@@@@%..      \n" \
        "      .@@@@@%%%%@@@@@@@@@@@@@@@@@@@@@@@@%..      \n" \
        "      .-@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%@@=.       \n" \
        "       .-@@@@@@@@@@@@@@@@@@@@@@@@@@%%===@.       \n" \
        "        ...-%@@@%=+:-..................          \n" \
        "                                                 \n" \
        "         #####            ##                     \n" \
        "         ##  ##  ##   ##  ##@##  ##   ##         \n" \
        "         ######  ##   ##  ##  ##  #  @#          \n" \
        "        ## %#   ##   ##  ##  ##   # ##           \n" \
        "        ##  ##  ######   #####   @##             \n" \
        "                                ##               \n" \
        "             #{player.name.upcase} WIN           \n"
      )
    end

    def draw_header
      system('clear')
      show_message(
        "************************************************\n"\
        "--------------------      ----------------------\n"\
        "-----------------             ------------------\n"\
        "----------------   BLACKJACK   -----------------\n"\
        "-----------------             ------------------\n"\
        "--------------------      ----------------------\n"\
        "************************************************\n"\
        "\n\n"
      )
    end
  end
end

# rubocop:enable Style/Documentation
# rubocop:enable Metrics/MethodLength
